# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [1.0.5] - 2020-09-13

### Added
- `enable_upstream_get` configuration option, to allow the usage of the `CORSflare_upstream` GET parameter to set the upstream on-the-fly using the request URL.
- Tweaked the redirect handling logic to work around an issue preventing GDrive content from being proxied (see [here](https://github.com/Darkseal/CORSflare/issues/1) for details).

## [1.0.4] - 2020-08-01

### Fixed
- `http_response_headers_set` fixed a bug that prevented this switch from working properly under certain circumstances.
- `http_response_headers_delete` fixed a bug that prevented this switch from working properly under certain circumstances.

### Added
- `set_cookie_samesite_none` configuration option, to forcefully apply the "SameSite=None" and "Secure" directives to all cookies 
generated by the upstream [experimental feature: might prevent some cookies from being generated due to a known bug of the Fetch API].

### Changed
- The standard behaviour for redirects has been updated to better behave with the `location` response header.

## [1.0.3] - 2020-07-30

### Added
- `replacement_content_types` configuration option, to allow arbitrary content types.
- `replacement_use_regex` configuration option, to enable or disable RegEx syntax in replacement rules.

### Removed
- `text/html` and `UTF-8` hardcoded values in content-type specifications.

## [1.0.2] - 2020-07-25

### Removed
- HTTP to HTTPS replacement has been commented out, since it won't be required in most common scenarios.

## [1.0.1] - 2020-07-23

### Added
- `http_response_headers_set` and `http_response_headers_delete` option switches.

### Fixed
- bug in handling the Cloudflare-specific `cf-ipcountry` HTTP header. 

### Removed
- `cache_control_override` switch: no longer required as the new `http_response_headers_set` option can be used to handle the `Cache-Control` header in a better way.

## [1.0.0] - 2020-07-22

- Initial release